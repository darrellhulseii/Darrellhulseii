<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crime Rates | Direct Protection Security</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; margin: 0; padding: 0; color: #001f3f; background: #f5faff; }
        header { background: #003366; color: white; padding: 15px 20px; position: fixed; width: 100%; top: 0; z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .logo img { height: 50px; }
        .header-container { display: flex; align-items: center; justify-content: space-between; max-width: 1200px; margin: 0 auto; }
        .hamburger { display: none; cursor: pointer; font-size: 28px; color: white; }
        nav ul { list-style: none; margin: 0; padding: 0; display: flex; gap: 20px; }
        nav a { color: white; text-decoration: none; font-weight: bold; }
        nav a:hover { color: #00aaff; }
        .btn { background: #00aaff; color: white; padding: 15px 35px; border-radius: 5px; text-decoration: none; font-weight: bold; display: inline-block; margin: 10px; box-shadow: 0 4px 15px rgba(0,170,255,0.3); }
        .btn:hover { background: #0088cc; }
        section { padding: 80px 20px; max-width: 1200px; margin: 0 auto; text-align: center; }
        footer { background: #003366; color: white; text-align: center; padding: 30px; }
        footer a { color: #00aaff; text-decoration: none; }

        /* Dealer Login & Dashboard Modal Styles */
        #login-modal, #dashboard {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,51,102,0.7);
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 900px;
            width: 95%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .modal-content h2 { color: #003366; text-align: center; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.95em; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        th { background: #f0f8ff; }
        input[type="number"] { width: 70px; padding: 5px; }
        select, input { padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        button { background: #00aaff; color: white; padding: 12px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        button:hover { background: #0088cc; }
        .close-btn { background: #ccc; margin-top: 20px; }

        /* Crime Specific Styles */
        .map-container {
            max-width: 1000px;
            margin: 40px auto;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,102,204,0.2);
            height: 600px;
        }
        iframe { width: 100%; height: 100%; border: none; }

        @media (max-width: 768px) {
            .hamburger { display: block; }
            nav ul { display: none; flex-direction: column; position: absolute; top: 70px; left: 0; width: 100%; background: #003366; padding: 20px 0; text-align: center; }
            nav ul.active { display: flex; }
            .map-container { height: 400px; }
            table { font-size: 0.8em; }
        }
    </style>
</head>
<body>

<header>
    <div class="header-container">
        <div class="logo">
            <img src="https://newsroom.adt.com/uploads/2021/06/b5586b9a-1c73-46ad-bccf-09ab444e2def.png" alt="ADT Logo">
        </div>
        <div class="hamburger" onclick="toggleMenu()">☰</div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="packages.html">Packages</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="why-adt.html">Why ADT</a></li>
                <li><a href="about.html">About ADT</a></li>
                <li><a href="crime.html">Crime Rates</a></li>
                <li><a href="careers.html">Careers</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="#" onclick="showLogin(); return false;">Dealer Login</a></li>
            </ul>
        </nav>
    </div>
</header>

<section>
    <h2 style="color:#003366;">Crime Rate Maps from ADT</h2>
    <p style="max-width:800px; margin:0 auto 20px;">
        Understanding local crime trends helps you make informed decisions about home security.
    </p>
    <p style="max-width:800px; margin:0 auto 40px;">
        Use the interactive map below to explore recent incidents in your area.
    </p>

    <div class="map-container">
        <iframe src="https://communitycrimemap.com/" title="Interactive Community Crime Map" allowfullscreen></iframe>
    </div>

    <p style="margin-top:30px;">
        Powered by <strong>LexisNexis Community Crime Map</strong> – a trusted public safety resource.<br>
        For ADT's official crime statistics and safety insights, visit 
        <a href="https://www.adt.com/crime" style="color:#00aaff; text-decoration:underline;">ADT.com/crime</a>.
    </p>
</section>

<!-- Dealer Login Modal -->
<div id="login-modal">
    <div class="modal-content">
        <h2>Dealer Login</h2>
        <form onsubmit="login(event)">
            <input type="password" id="password" placeholder="Enter Password" required style="width:100%; padding:12px; margin:10px 0;">
            <button type="submit" style="width:100%;">Login</button>
        </form>
        <button onclick="hideLogin()" class="close-btn" style="width:100%;">Close</button>
    </div>
</div>

<!-- Dealer Dashboard with Commission Calculator -->
<div id="dashboard">
    <div class="modal-content">
        <h2>Dealer Dashboard – Commission Calculator & Order Entry</h2>
        <p>Configure equipment for quote generation. Markup: 25% on equipment.</p>

        <form id="quote-form">
            <h3>Select Package (Auto-Populates Equipment)</h3>
            <select id="package" onchange="selectPackage()">
                <option value="none">Custom</option>
                <option value="secure">Secure Starter</option>
                <option value="smart">Smart Package</option>
                <option value="complete">Video & Smart Complete</option>
            </select>

            <label style="display:block; margin:15px 0;">
                Install Cost: $<input type="number" id="install-cost" value="150" min="0" step="1" onchange="calcTotal()">
            </label>

            <h3>Equipment Selection (Qty × Dealer Cost)</h3>
            <div style="overflow-x:auto;">
                <table id="equipment-table">
                    <thead>
                        <tr><th>Item</th><th>Dealer Cost</th><th>Qty</th><th>Subtotal</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>ADT 7" Command Panel</td><td>$173.25</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                        <tr><td>ADT Hybrid Panel</td><td>$99.75</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                        <tr><td>Verizon LTE Radio</td><td>$52.50</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                        <tr><td>AT&T LTE Radio</td><td>$52.50</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                        <tr><td>2-Way Mini Sensor (Door/Window)</td><td>$11.55</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                        <tr><td>2-Way Motion Sensor</td><td>$22.58</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                        <tr><td>Google Nest Thermostat</td><td>$87.14</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                        <tr><td>Yale Smart Lock</td><td>$118.88</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                        <tr><td>Google Nest Cam Outdoor</td><td>$164.99</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                        <tr><td>Smoke/CO Detector</td><td>$82.00</td><td><input type="number" min="0" value="0" onchange="calcTotal()"></td><td class="subtotal">0.00</td></tr>
                    </tbody>
                </table>
            </div>

            <p><strong>Dealer Equipment Total: $<span id="dealer-total">0.00</span></strong></p>
            <p>Customer Equipment (25% Markup): $<span id="customer-equip">0.00</span> | 
               Install Fee: $<span id="install-fee">150.00</span> | 
               Total Quote: $<span id="total-quote">150.00</span></p>
            <p>Equipment Profit: $<span id="equip-profit">0.00</span></p>

            <h3>Monitoring Bundle</h3>
            <select id="bundle" onchange="calcCommission()">
                <option value="36.99:1">Basic $36.99 (1x)</option>
                <option value="42.99:1.75">Smart $42.99 (1.75x)</option>
                <option value="49.99:4">Complete $49.99 (4x)</option>
            </select>

            <h3>Credit Class & Volume Bonus</h3>
            <select id="class" onchange="calcCommission()">
                <option value="E:28:29">E (below 600) – 28x / >10: 29x</option>
                <option value="D:30:31">D (600-649) – 30x / >10: 31x</option>
                <option value="C:32:33">C (650-699) – 32x / >10: 33x</option>
                <option value="B:33:34">B (700-724) – 33x / >10: 34x</option>
                <option value="A:34:35">A (725-774) – 34x / >10: 35x</option>
                <option value="A+:35:36">A+ (>775) – 35x / >10: 36x</option>
            </select>
            <input type="number" id="monthly-contracts" placeholder="Contracts this month" min="1" onchange="calcCommission()" style="margin-top:10px;">

            <p><strong>Commission Advance: $<span id="commission">0.00</span></strong></p>
            <p><strong>Net After Deducts & Equipment Cost: $<span id="net-commission">0.00</span></strong></p>

            <button type="button" onclick="openSignupForm()" style="width:100%; padding:15px; font-size:1.1em; margin-top:20px;">
                Generate Customer Order Form (Jotform)
            </button>
            <button type="button" onclick="logout()" class="close-btn" style="width:100%; margin-top:10px;">
                Logout
            </button>
        </form>
    </div>
</div>

<footer>
    <p>&copy; 2025 Direct Protection Security – Authorized ADT Dealer<br>
    <a href="https://investor.adt.com/">Investor Relations</a> | 
    <a href="https://newsroom.adt.com/">Newsroom</a> | 
    <a href="https://www.adt.com/privacy">Privacy Policy</a></p>
</footer>

<script>
    function toggleMenu() {
        document.querySelector('nav ul').classList.toggle('active');
    }

    // Modal Controls
    function showLogin() { document.getElementById('login-modal').style.display = 'flex'; }
    function hideLogin() { document.getElementById('login-modal').style.display = 'none'; }
    function login(e) {
        e.preventDefault();
        if (document.getElementById('password').value === 'subdealer2020') {
            hideLogin();
            document.getElementById('dashboard').style.display = 'flex';
        } else {
            alert('Invalid password');
        }
    }
    function logout() { document.getElementById('dashboard').style.display = 'none'; }

    // Open Jotform for order entry
    function openSignupForm() {
        window.open('https://form.jotform.com/253484370887167', '_blank');
    }

    // Package auto-fill
    function selectPackage() {
        const pkg = document.getElementById('package').value;
        const inputs = document.querySelectorAll('#equipment-table tbody input[type="number"]');
        inputs.forEach(i => i.value = 0);

        if (pkg === 'secure') {
            inputs[0].value = 1;
            inputs[4].value = 3;
            inputs[5].value = 1;
            document.getElementById('install-cost').value = 199;
        } else if (pkg === 'smart') {
            inputs[0].value = 1;
            inputs[4].value = 3;
            inputs[5].value = 1;
            inputs[6].value = 1;
            inputs[7].value = 1;
            document.getElementById('install-cost').value = 249;
        } else if (pkg === 'complete') {
            inputs[0].value = 1;
            inputs[4].value = 3;
            inputs[5].value = 1;
            inputs[6].value = 1;
            inputs[7].value = 1;
            inputs[8].value = 2;
            inputs[9].value = 1;
            document.getElementById('install-cost').value = 299;
        }
        calcTotal();
    }

    // Calculator
    function calcTotal() {
        let total = 0;
        const rows = document.querySelectorAll('#equipment-table tbody tr');
        rows.forEach(row => {
            const qty = parseInt(row.querySelector('input').value) || 0;
            const cost = parseFloat(row.cells[1].textContent.replace('$', '')) || 0;
            const sub = qty * cost;
            row.cells[3].textContent = sub.toFixed(2);
            total += sub;
        });
        document.getElementById('dealer-total').textContent = total.toFixed(2);
        const markup = total * 1.25;
        document.getElementById('customer-equip').textContent = markup.toFixed(2);
        const install = parseFloat(document.getElementById('install-cost').value) || 150;
        document.getElementById('install-fee').textContent = install.toFixed(2);
        document.getElementById('total-quote').textContent = (markup + install).toFixed(2);
        document.getElementById('equip-profit').textContent = (markup - total).toFixed(2);
        calcCommission();
    }

    function calcCommission() {
        const bundle = document.getElementById('bundle').value.split(':');
        const monthly = parseFloat(bundle[0]);
        const pass = parseFloat(bundle[1]);
        const cls = document.getElementById('class').value.split(':');
        const multiples = [parseInt(cls[1]), parseInt(cls[2])];
        const contracts = parseInt(document.getElementById('monthly-contracts').value) || 1;
        const multiple = contracts > 10 ? multiples[1] : multiples[0];
        const advance = (multiple + pass) * monthly;

        document.getElementById('commission').textContent = advance.toFixed(2);

        const dealerTotal = parseFloat(document.getElementById('dealer-total').textContent) || 0;
        const holdback = 1.5 * monthly;
        const installDeduct = 200;
        const net = advance - installDeduct - holdback - dealerTotal;
        document.getElementById('net-commission').textContent = net.toFixed(2);
    }

    // Initialize
    calcTotal();
</script>

</body>
</html>
